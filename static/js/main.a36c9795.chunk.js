(this.webpackJsonplife=this.webpackJsonplife||[]).push([[0],{13:function(e,t,a){e.exports=a(25)},19:function(e,t,a){},25:function(e,t,a){"use strict";a.r(t);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var n=a(0),r=a.n(n),s=a(7),l=a.n(s);a(18),a(19);function c(){return r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-dark bg-dark"},r.a.createElement("a",{className:"navbar-brand",href:"https://github.com/adxl/life"},"Life")))}var i=a(8),o=a(9),m=a(11),h=a(12),u=a(10),d=a.n(u),f=a(3),p=a(5),g=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={width:400,height:400,gens:0,gensLimit:0,cellsAlive:"-",forceStop:!0,smooth:!1,shape:"squares"},n.launch=function(){n.state.gensLimit>=0&&(void 0!==n.p5Canvas&&n.p5Canvas.remove(),n.p5Canvas=new d.a(n.sketch,n.pRef.current))},n.stop=function(){void 0!==n.p5Canvas&&n.p5Canvas.noLoop()},n.incrementGenerations=function(){var e=n.state.gens;e++,n.setState({gens:e})},n.reset=function(){n.setState({gens:0})},n.handleInputChange=function(e){n.setState({gensLimit:e.target.value})},n.handleForceStopCheck=function(e){n.setState({forceStop:e.target.checked})},n.handleSmoothCheck=function(e){n.setState({smooth:e.target.checked})},n.handleSizeChange=function(e){"w"===e.target.id?n.setState({width:e.target.value}):n.setState({height:e.target.value})},n.handleShapeChange=function(e){n.setState({shape:e.target.id})},n.sketch=function(e){var t,a,r,s=n.state.gensLimit,l=n.state.forceStop,c=n.state.shape,i=255,o=n.state.width,m=n.state.height,h=Math.floor(o/10),u=Math.floor(m/10);function d(){for(var e=new Array(h),t=0;t<h;t++)e[t]=new Array(u);return e}function f(e,a){for(var n=0,r=e-1;r<=e+1;r++)for(var s=a-1;s<=a+1;s++)r>=0&&r<h&&s>=0&&s<u&&t[r][s]&&n++;return n-=t[e][a]}function p(){for(var a=0;a<h;a++)for(var n=0;n<u;n++)t[a][n]?(e.fill(50),e.stroke(255),"squares"===c?e.rect(10*a,10*n,10,10):e.ellipse(10*a,10*n,10,10)):(e.fill(200),"squares"===c?e.rect(10*a,10*n,10,10):e.ellipse(10*a,10*n,10,10))}e.setup=function(){n.reset(),e.createCanvas(o,m),t=function(e){for(var t=0;t<h;t++){e[t]=new Array(u);for(var a=0;a<u;a++)e[t][a]=Math.random()<.5}return e}(t=d()),n.state.smooth&&(i=5),e.background(200,i)},e.draw=function(){for(var o=0,m=0;m<h;m++)for(var g=0;g<u;g++)t[m][g]?(o++,e.fill(50),e.stroke(255),"squares"===c?e.rect(10*m,10*g,10,10):e.ellipse(10*m,10*g,10,10)):(e.fill(200,i),"squares"===c?e.rect(10*m,10*g,10,10):e.ellipse(10*m,10*g,10,10));n.setState({cellsAlive:o}),l&&JSON.stringify(t)===JSON.stringify(r)&&(n.state.smooth&&p(),e.noLoop(),console.log("Forced end.")),r=a,a=t,t=function(){for(var e=d(),a=0;a<h;a++)for(var n=0;n<u;n++){var r=!t[a][n],s=f(a,n);e[a][n]=!(!r||3!==s)||!(!r&&(s<2||s>3))&&t[a][n]}return e}(),n.incrementGenerations(),0===--s&&(n.state.smooth&&p(),e.noLoop(),console.log("End."))}},n.pRef=r.a.createRef(),n}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"info"},r.a.createElement("div",{className:"fields"},r.a.createElement("label",{className:"text-dark mt-4 tt-container"},"Width"),r.a.createElement("br",null),r.a.createElement("span",{className:"tt-info"},"Set the canvas width"),r.a.createElement("input",{type:"number",min:"100",step:"100",id:"w",onChange:this.handleSizeChange,value:this.state.width}),r.a.createElement("br",null),r.a.createElement("label",{className:"text-dark mt-2 tt-container"},"Height"),r.a.createElement("br",null),r.a.createElement("span",{className:"tt-info"},"Set the canvas height"),r.a.createElement("input",{type:"number",min:"100",step:"100",id:"h",onChange:this.handleSizeChange,value:this.state.height}),r.a.createElement("br",null),r.a.createElement("hr",null),r.a.createElement("label",{className:"text-dark mt-1 tt-container"},"Generations limit  ",r.a.createElement(f.a,{icon:p.a})),r.a.createElement("br",null),r.a.createElement("span",{className:"tt-info"},"Set max number of generations (0 infinite)"),r.a.createElement("input",{type:"number",className:"mr-2",onChange:this.handleInputChange,value:this.state.gensLimit,min:"0"}),r.a.createElement("br",null)),r.a.createElement("div",{className:"checkbox  mt-3"},r.a.createElement("input",{type:"checkbox",onChange:this.handleForceStopCheck,checked:this.state.forceStop}),r.a.createElement("label",{className:"text-dark ml-1 tt-container"},"Stop if unstable  ",r.a.createElement(f.a,{icon:p.a})),r.a.createElement("br",null),r.a.createElement("span",{className:"tt-info"},"Stop the simulation if future generations are similar")),r.a.createElement("hr",null),r.a.createElement("div",{className:"shapes"},r.a.createElement("input",{type:"radio",name:"shape",id:"squares",checked:"squares"===this.state.shape,onChange:this.handleShapeChange}),r.a.createElement("label",{className:"text-dark ml-1 mr-2 tt-container"},"Squares"),r.a.createElement("span",{className:"tt-info"},"Square-shaped cells"),r.a.createElement("input",{type:"radio",name:"shape",id:"circles",checked:"circles"===this.state.shape,onChange:this.handleShapeChange}),r.a.createElement("label",{className:"text-dark ml-1 tt-container"},"Circles"),r.a.createElement("br",null),r.a.createElement("span",{className:"tt-info"},"Circle-shaped cells")),r.a.createElement("div",{className:"checkbox mt-2"},r.a.createElement("input",{type:"checkbox",onChange:this.handleSmoothCheck,checked:this.state.smooth}),r.a.createElement("label",{className:"text-dark ml-1"},"Smooth simulation"),r.a.createElement("br",null)),r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{onClick:this.launch,className:"btn btn-success mr-2"},"Launch"),r.a.createElement("button",{onClick:this.stop,className:"btn btn-danger"},"Stop"))),r.a.createElement("div",{className:"board-container"},r.a.createElement("div",{className:"gen-counter"},r.a.createElement("span",{style:{fontSize:20},className:"badge badge-info mt-3 mb-2"},"Generations: ",this.state.gens)),r.a.createElement("div",{className:"gen-counter"},r.a.createElement("span",{style:{fontSize:15},className:"badge badge-secondary mt-1 mb-2"},"Cells: ",this.state.cellsAlive)),r.a.createElement("hr",null),r.a.createElement("div",{ref:this.pRef,className:"board"})))}}]),a}(n.Component);var v=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(c,null),r.a.createElement("main",{className:"container mt-4"},r.a.createElement(g,null)))};l.a.render(r.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[13,1,2]]]);
//# sourceMappingURL=main.a36c9795.chunk.js.map